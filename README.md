## Тестовое задание на позицию «Автотестирование (Java)»

### Задание 2
[Выполненное задание 1](https://github.com/petcheetos/console-ftp-client)

### Обоснование тестов

Реализованы те проверки, которые можно провести без использования сторонних библиотек.

Основные функции:

- Проверка работы всех команд в консольном приложении (help, show, list, info, add, delete, exit).

Работа с сущностью и списком студентов:

- Проверка корректного добавления и удаления студентов.
- Проверка сортировки и фильтрации списка студентов.
- Проверка получения информации о студенте по ID.
- Проверка того, что при добавлении студента генерируется уникальный ID.

Проверка работы с данными:

- Проверка работы с JSON (сериализация и десериализация).

Проверка работы с FTP-сервером:

- Проверка того, что данные из файла могут быть получены при работе в пассивном режиме.
- Проверка того, что данные из файла могут быть получены при работе в активном режиме.
- Провека того, что данные могут быть записаны в файл при работе в пассивном режиме.
- Провека того, что данные могут быть записаны в файл при работе в активном режиме.
- Проверка того, что подключение к FTP-серверу и отключение от него проходят успешно при корректно введенных данных.

#### Пояснение методов
CommandsTest:
- testHelp: Проверяет, что метод help возвращает ожидаемый список команд.
- testShowEmptyList: Проверяет, что метод show возвращает сообщение о пустом списке, если список студентов пуст.
- testShowNonEmptyList: Проверяет, что метод show возвращает список студентов, если он не пуст.
- testListEmpty: Проверяет, что метод list возвращает сообщение о пустом списке, если нет студентов с указанным именем.
- testListNonEmpty: Проверяет, что метод list возвращает список студентов с указанным именем.
- testInfoNonExistentStudent: Проверяет, что метод info возвращает сообщение о несуществующем студенте, если студент с указанным ID не найден.
- testInfoExistentStudent: Проверяет, что метод info возвращает информацию о существующем студенте.
- testAddStudent: Проверяет, что метод add добавляет студента и возвращает соответствующее сообщение.
- testDeleteStudent: Проверяет, что метод delete удаляет студента и возвращает соответствующее сообщение.

FTPAddressTest:
- testConstructor: Проверяет, что конструктор правильно инициализирует поля host и port.
- testCreateValidResponse: Проверяет, что метод create правильно создает объект FTPAddress при корректном ответе сервера.
- testCreateInvalidResponse: Проверяет, что метод create бросает IOException при некорректном ответе сервера.
- testToString: Проверяет, что метод toString правильно форматирует строку для FTPAddress.

JSONHandlerTest:
- testSerializeStudents: Проверяет, что метод serializeStudents правильно сериализует коллекцию студентов в формат JSON.
- testParseData: Проверяет, что метод parseData правильно парсит JSON-данные и создает коллекцию студентов.

StudentServiceTest:
- testAddStudent: Проверяет, что метод addStudent добавляет студента с правильным именем и что студент содержится в множестве студентов после добавления.
- testGetStudents: Проверяет, что метод getStudents возвращает правильное множество студентов.
- testRemoveStudentById: Проверяет, что метод removeStudentById корректно удаляет студента по ID.
- testGetListStudentsSortedAlphabetically: Проверяет, что метод getListStudentsSortedAlphabetically возвращает список студентов, отсортированный по алфавиту.
- testGetListStudentsByName: Проверяет, что метод getListStudentsByName возвращает правильное количество студентов с указанным именем.
- testGetNameById: Проверяет, что метод getNameById возвращает правильное имя студента по ID и null для несуществующего ID.
- testGenerateId: Проверяет, что метод generateId генерирует уникальные идентификаторы для студентов.

FTPClientTest:
- setUp: Устанавливает соединение с FTP-сервером перед каждым тестом.
- tearDown: Закрывает соединение с FTP-сервером после каждого теста.
- testConnect: Проверяет успешное подключение к FTP-серверу.
- testGetDataFromFilePassiveMode: Проверяет, что данные из файла могут быть получены в пассивном режиме. Файл test.txt должен быть предварительно загружен на сервер с ожидаемыми данными.
- testSaveDataToFilePassiveMode: Проверяет, что данные могут быть сохранены на FTP-сервере в пассивном режиме.
- testGetDataFromFileActiveMode: Проверяет, что данные из файла могут быть получены в активном режиме.
- testSaveDataToFileActiveMode: Проверяет, что данные могут быть сохранены на FTP-сервере в активном режиме.
- testDisconnect: Проверяет успешное отключение от FTP-сервера.

StudentTest:
- testConstructor: Проверяет, что конструктор правильно инициализирует поля id и name.
- testEqualsAndHashCode: Проверяет, что методы equals и hashCode корректно работают для одинаковых и различных объектов.
- testCompareTo: Проверяет, что метод compareTo правильно сравнивает объекты на основе имени.
- testToJSONObject: Проверяет, что метод toJSONObject правильно сериализует объект в формат JSON.
- testToString: Проверяет, что метод toString возвращает правильное строковое представление объекта.

### Запуск тестов
Для запуска тестов используется Maven.
Также в проекте присутствует зависимость на проект с разработанным [FTP-клиентом](https://github.com/petcheetos/console-ftp-client), поэтому убедитесь, что основной проект FTP-клиента собран и установлен в локальном Maven-репозитории:
```bash
git clone https://github.com/petcheetos/console-ftp-client.git
cd console-ftp-client
mvn clean install
```
Клонируйте репозиторий с тестами:
```bash
git clone https://github.com/petcheetos/console-ftp-client-tests.git
cd console-ftp-client-tests
```

Создайте исполняемый JAR файл:
```bash
mvn clean package
```

Запуск с использованием JAR файла:
```bash
java -jar target/ftp-client-test-1.0-SNAPSHOT-jar-with-dependencies.jar testng.xml
```
Запуск с использованием Maven:
```bash
mvn test
```

